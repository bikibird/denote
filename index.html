<!DOCTYPE html>
<html>
<head>
<title>Defi: MIDI Demake Tool for PICO-8</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
</head>
<body>
	<input type="file" class="d-none" accept=".mid,.midi" id="fileInput"/>
	<h1 class="text-center display-4">Defi: MIDI Demake Tool for PICO-8</h1>
  <input class="btn btn-info" type="button" value="Load MIDI File" id="loadButton">
	<script src="https://unpkg.com/@tonejs/midi@2.0.27/build/Midi.js"></script>
  <script>
	var fileInput = document.getElementById("fileInput")
	var loadButton=document.getElementById("loadButton")
	fileInput.onchange = function (e)
	{
		if (e.target.files && e.target.files.item(0)) 
		{
			Midi.fromUrl( URL.createObjectURL(e.target.files[0])).then( midi=>
				{
					console.log(midi)
				}	
			)
		}
	}
	loadButton.onclick=function()
	{
		fileInput.click()
	}
</script>	
</body>
</html>	
